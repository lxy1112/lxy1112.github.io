/* ========== 全局 ========== */
:root {
  --primary:   #4A90E2;
  --accent:    #50E3C2;
  --light-bg:  #F5F5F7;
  --light-fg:  #1E1E2F;
  --dark-bg:   #1E1E2F;
  --dark-fg:   #F5F5F7;
  --transition:.3s ease;
  --max-width: 960px;
}

* { box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
  margin:0; padding:0;
  font-family:'Poppins',sans-serif;
  background:var(--light-bg);
  color:var(--light-fg);
  transition: background var(--transition), color var(--transition);
  overflow-x:hidden;
}
body.dark {
  background:var(--dark-bg);
  color:var(--dark-fg);
}

/* 跳过链接 */
.skip-link {
  position:absolute; left:-9999px; top:auto; width:1px; height:1px;
  overflow:hidden;
}
.skip-link:focus {
  left:0; top:0; width:auto; height:auto;
  background:#000; color:#fff; padding:1em; z-index:1000;
}

/* 链接、按钮 */
a, button { font: inherit; }

/* ========== Header & Nav ========== */
header {
  position:fixed; top:0; left:0; right:0;
  background:rgba(255,255,255,0.9);
  backdrop-filter: blur(8px);
  z-index:100;
  transition: background var(--transition);
}
body.dark header {
  background:rgba(30,30,47,0.9);
}

.nav-container {
  max-width:var(--max-width); margin:0 auto;
  display:flex; align-items:center; justify-content:space-between;
  padding:.75em 1em;
}

.logo { font-size:1.5em; font-weight:700; color:var(--primary); }

nav ul {
  list-style:none; display:flex; gap:1em; margin:0; padding:0;
}
nav li {
  cursor:pointer; padding:.5em .75em; border-radius:4px;
  transition: background var(--transition);
}
nav li:hover,
nav li.active {
  background:var(--accent);
  color:var(--light-bg);
}

/* 控件 */
.controls {
  display:flex; align-items:center;
}
.theme-toggle {
  background:none; border:none; cursor:pointer; font-size:1.2em;
  margin-right:1em; transition: transform var(--transition);
}
.theme-toggle:focus { outline:2px solid var(--primary); }
.hamburger {
  display:none; flex-direction:column; gap:4px;
  background:none; border:none; cursor:pointer;
}
.hamburger span {
  display:block; width:25px; height:3px;
  background:currentColor; transition:transform var(--transition);
}

/* 移动端 */
@media (max-width:768px) {
  nav ul {
    position:fixed; top:60px; right:-100%;
    background:inherit;
    flex-direction:column; width:60vw;
    padding:1em; gap:1em;
    height:calc(100vh - 60px);
    transition:right var(--transition);
  }
  nav ul.open { right:0; }
  .hamburger { display:flex; }
}

/* ========== Main & Section ========== */
main {
  padding-top:80px;
  max-width:var(--max-width); margin:0 auto;
}
section { display:none; animation:fadeIn .5s; }
section.active { display:block; }
h2 {
  font-weight:500; margin-bottom:.5em; position:relative;
  display:inline-block;
}
h2::after {
  content:''; position:absolute; left:0; bottom:-5px;
  width:50px; height:3px; background:var(--primary);
}

/* ========== Gallery & Videos ========== */
.gallery {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(140px,1fr));
  gap:10px; margin-top:1em;
}
.gallery img { width:100%; border-radius:6px; cursor:pointer; }

.videos {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(300px,1fr));
  gap:20px; margin-top:1em;
}
.videos video { width:100%; border-radius:6px; }

/* ========== Blog ========== */
.search-box { margin:1em 0 .5em; }
.posts { list-style:none; padding:0; display:flex; flex-direction:column; gap:1em; }
.post {
  padding:1em; border-radius:6px;
  background: rgba(0,0,0,0.03);
  transition: background var(--transition);
}
.post:hover { background: rgba(0,0,0,0.08); }
.post h3 { margin:0 0 .3em; }

/* ========== Contact ========== */
form { display:flex; flex-direction:column; gap:.75em; margin-top:1em; }
.form-group { display:flex; flex-direction:column; }
label { margin-bottom:.3em; }
input, textarea {
  padding:.5em; border:1px solid #ccc; border-radius:4px;
  font:inherit;
}
button[type="submit"] {
  padding:.6em 1em; background:var(--accent); border:none;
  border-radius:4px; cursor:pointer;
  transition: background var(--transition);
}
button[type="submit"]:hover { background:var(--primary); }

/* ========== Lightbox ========== */
.lightbox {
  position:fixed; inset:0;
  background:rgba(0,0,0,0.85);
  display:flex; align-items:center; justify-content:center;
  z-index:200; opacity:0; pointer-events:none;
  transition:opacity var(--transition);
}
.lightbox.open { opacity:1; pointer-events:all; }
.lb-close {
  position:absolute; top:20px; right:20px; font-size:2em;
  color:#fff; background:none; border:none; cursor:pointer;
}
.lb-close:focus { outline:2px solid #fff; }
.lightbox img { max-width:90%; max-height:90%; border-radius:6px; }

/* ========== Back to Top ========== */
#back-to-top {
  position:fixed; bottom:30px; right:30px;
  width:40px; height:40px; background:var(--accent);
  color:var(--light-bg); border:none; border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  cursor:pointer; opacity:0; pointer-events:none;
  transition:opacity var(--transition);
  z-index:150;
}
#back-to-top.show { opacity:1; pointer-events:all; }

/* ========== 动画 ========== */
@keyframes fadeIn {
  from { opacity:0; transform:translateY(20px); }
  to   { opacity:1; transform:translateY(0); }
}
